---
import Layout from '../layouts/layout.astro';

// Datos de las cartas
const cards = [
  { name: 'Barril de Duendes', img: 'https://cdn.royaleapi.com/static/img/cards-150/goblin-barrel.png' },
  { name: 'Cohete', img: 'https://cdn.royaleapi.com/static/img/cards-150/rocket.png' },
  { name: 'Torre Infernal', img: 'https://cdn.royaleapi.com/static/img/cards-150/inferno-tower.png' },
  { name: 'Caballero', img: 'https://cdn.royaleapi.com/static/img/cards-150/knight.png' },
  { name: 'El Tronco', img: 'https://cdn.royaleapi.com/static/img/cards-150/the-log.png' },
  { name: 'Princesa', img: 'https://cdn.royaleapi.com/static/img/cards-150/princess.png' },
  { name: 'Espíritu de Hielo', img: 'https://cdn.royaleapi.com/static/img/cards-150/ice-spirit.png' },
  { name: 'Pandilla de Duendes', img: 'https://cdn.royaleapi.com/static/img/cards-150/goblin-gang.png' },
];

const bans = [
  { name: 'Mega Caballero', img: 'https://cdn.royaleapi.com/static/img/cards-150/mega-knight.png' },
  { name: 'Chispitas', img: 'https://cdn.royaleapi.com/static/img/cards-150/sparky.png' },
  { name: 'Pekka', img: 'https://cdn.royaleapi.com/static/img/cards-150/pekka.png' },
  { name: 'Bárbaros Élite', img: 'https://cdn.royaleapi.com/static/img/cards-150/elite-barbarians.png' }
];

const suggestedDecks = [
  { 
    name: "Montapuercos 2.6", 
    tag: "Ciclo Rápido",
    cards: [
      'https://cdn.royaleapi.com/static/img/cards-150/hog-rider.png',
      'https://cdn.royaleapi.com/static/img/cards-150/musketeer.png',
      'https://cdn.royaleapi.com/static/img/cards-150/ice-golem.png',
      'https://cdn.royaleapi.com/static/img/cards-150/fireball.png'
    ]
  },
  { 
    name: "Golem Beatdown", 
    tag: "Pesado",
    cards: [
      'https://cdn.royaleapi.com/static/img/cards-150/golem.png',
      'https://cdn.royaleapi.com/static/img/cards-150/baby-dragon.png',
      'https://cdn.royaleapi.com/static/img/cards-150/mega-minion.png',
      'https://cdn.royaleapi.com/static/img/cards-150/lightning.png'
    ]
  }
];
---

<Layout titulo="Arena UPLA | Torneo Estudiantil">
  <main class="min-h-screen bg-[#020617] flex flex-col items-center p-4 md:p-10 relative overflow-x-hidden">
    
    <div class="absolute top-[-10%] left-[-10%] w-[80%] md:w-[60%] h-[60%] bg-blue-600/10 blur-[100px] md:blur-[130px] rounded-full animate-pulse"></div>
    <div class="absolute bottom-[-10%] right-[-10%] w-[80%] md:w-[60%] h-[60%] bg-orange-600/10 blur-[100px] md:blur-[130px] rounded-full animate-pulse"></div>

    <header class="text-center z-10 mb-10 md:mb-16 px-2 mt-8">
      <div class="inline-block px-4 py-1.5 rounded-full border border-white/10 bg-white/5 backdrop-blur-md text-cyan-400 text-[9px] md:text-[10px] font-black uppercase tracking-[0.2em] mb-6 shadow-lg">
        Torneo Exclusivo para Estudiantes UPLA
      </div>
      <h1 class="text-5xl md:text-[140px] font-black italic text-white leading-[0.85] uppercase tracking-tighter drop-shadow-2xl select-none" style="font-family: 'Lilita One', cursive;">
        ARENA <br/> <span class="text-transparent bg-clip-text bg-gradient-to-b from-yellow-300 to-orange-600">UPLA</span>
      </h1>
      <p class="text-slate-400 text-base md:text-2xl font-bold uppercase tracking-[0.1em] mt-6 italic leading-relaxed px-4">"La corona universitaria busca dueño"</p>
    </header>

    <section class="w-full max-w-5xl z-10 px-2 mb-10">
        <div class="bg-white/[0.03] border border-white/10 backdrop-blur-xl p-6 md:p-12 rounded-[2.5rem] md:rounded-[4rem] shadow-2xl">
            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12 text-center md:text-left">
                <div class="flex-1 order-2 md:order-1">
                    <span class="text-blue-500 font-black uppercase tracking-[0.3em] text-[10px]">Paso 1</span>
                    <h2 class="text-3xl md:text-5xl font-black text-white uppercase italic mb-6" style="font-family: 'Lilita One', cursive;">Pago de Inscripción</h2>
                    <div class="space-y-3 text-slate-300 font-bold mb-8">
                        <p class="text-sm md:text-base">Yapea o Plinea <span class="text-yellow-500 text-xl md:text-2xl">S/ 3.00</span> al:</p>
                        <p class="text-2xl md:text-3xl tracking-widest bg-white/5 inline-block px-4 py-2 rounded-xl border border-white/10 text-white">999 999 999</p>
                        <p class="text-[10px] md:text-xs text-slate-500 uppercase tracking-widest">Guarda tu captura del comprobante</p>
                    </div>

                    <label class="flex items-center justify-center md:justify-start gap-3 cursor-pointer group p-4 bg-white/5 rounded-2xl border border-white/10 hover:border-blue-500/50 transition-all">
                        <input type="checkbox" id="check-pago" class="w-5 h-5 rounded border-gray-300 text-blue-600 bg-slate-900" />
                        <span class="text-xs md:text-sm text-white font-bold italic group-hover:text-blue-400 transition-colors">Confirmar que ya pagué y tengo la captura</span>
                    </label>
                </div>

                <div class="bg-white p-3 md:p-4 rounded-2xl md:rounded-3xl shadow-2xl order-1 md:order-2 shrink-0">
                    <img src="https://api.qrserver.com/v1/create-qr-code/?size=200x200&data=UPLA_TOURNAMENT" alt="QR Pago" class="w-32 h-32 md:w-56 md:h-56" />
                </div>
            </div>
        </div>
    </section>

    <section id="registro" class="w-full max-w-4xl z-10 px-2 mb-16 transition-all duration-500">
      <div id="container-registro" class="bg-slate-900/50 grayscale opacity-40 border-2 border-white/5 p-8 md:p-12 rounded-[2.5rem] md:rounded-[3.5rem] shadow-2xl text-center relative overflow-hidden transition-all duration-700 pointer-events-none">
        <span class="text-blue-500 font-black uppercase tracking-[0.3em] text-[10px] block mb-4">Paso 2</span>
        <h2 class="text-3xl md:text-6xl font-black text-white uppercase italic mb-4 md:mb-6 leading-none" style="font-family: 'Lilita One', cursive;">Registro Oficial</h2>
        <p class="text-slate-400 font-bold mb-8 md:mb-10 max-w-xl mx-auto italic text-xs md:text-base px-4">
          Adjunta tu comprobante y datos de jugador en el formulario oficial de Microsoft.
        </p>
        <a 
          id="btn-registro"
          href="https://forms.office.com/Pages/ResponsePage.aspx?id=uWqgjTfRT06djoIq445XAby72mATZKJOiaBeCGAF87FUMDBJTEZWVzdXQzExVzlXTExNNFBXQjZDVi4u" 
          target="_blank"
          class="relative inline-block bg-slate-700 text-slate-400 font-black text-lg md:text-5xl py-6 md:py-8 px-8 md:px-16 rounded-[1.5rem] md:rounded-[2.5rem] border-b-[8px] md:border-b-[12px] border-slate-900 transition-all uppercase italic shadow-2xl tracking-tighter"
          style="font-family: 'Lilita One', cursive;"
        >
          ¡INSCRIBIRME YA!
        </a>
      </div>
    </section>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-8 w-full max-w-6xl z-10 mb-20 px-2">
      <div class="bg-yellow-500/10 border border-yellow-500/30 p-8 md:p-10 rounded-[2.5rem] text-center shadow-2xl">
        <h2 class="text-2xl md:text-4xl text-yellow-500 font-black uppercase italic mb-2" style="font-family: 'Lilita One', cursive;">Premio</h2>
        <p class="text-white text-4xl md:text-5xl font-black italic uppercase leading-none">S/ 20.00</p>
      </div>

      <div class="bg-blue-600/10 border border-blue-500/30 p-8 md:p-10 rounded-[2.5rem] text-center shadow-2xl">
        <h2 class="text-2xl md:text-4xl text-blue-400 font-black uppercase italic mb-2" style="font-family: 'Lilita One', cursive;">Costo</h2>
        <p class="text-white text-4xl md:text-5xl font-black italic uppercase leading-none">S/ 3.00</p>
      </div>

      <div class="bg-white/5 border border-white/10 p-8 md:p-10 rounded-[2.5rem] shadow-2xl">
        <h2 class="text-2xl md:text-4xl text-slate-400 font-black uppercase italic mb-4 text-center" style="font-family: 'Lilita One', cursive;">Reglas</h2>
        <ul class="text-slate-200 text-sm md:text-lg font-bold space-y-1 text-center md:text-left">
          <li>• Nivel de Torre 11</li>
          <li>• Eliminación 1v1</li>
          <li>• Microsoft 365</li>
        </ul>
      </div>
    </div>

    <section class="w-full max-w-5xl z-10 px-2 mb-20 overflow-hidden">
      <h2 class="text-2xl md:text-3xl font-black text-white uppercase italic mb-8 text-center" style="font-family: 'Lilita One', cursive;">Recomendaciones</h2>
      <div class="flex md:grid md:grid-cols-2 gap-4 overflow-x-auto pb-4 md:overflow-visible no-scrollbar">
        {suggestedDecks.map(deck => (
          <div class="min-w-[280px] bg-white/[0.02] border border-white/5 p-6 md:p-8 rounded-[2rem] md:rounded-[3rem] backdrop-blur-md">
            <h4 class="text-white font-black italic text-lg uppercase mb-1">{deck.name}</h4>
            <span class="text-[9px] text-blue-400 font-bold uppercase tracking-widest">{deck.tag}</span>
            <div class="flex gap-2 md:gap-4 mt-6">
              {deck.cards.map(img => (
                <img src={img} class="w-12 h-16 md:w-16 md:h-20 object-contain drop-shadow-md" />
              ))}
            </div>
          </div>
        ))}
      </div>
    </section>

    <section class="w-full max-w-3xl z-10 px-2 mb-20">
      <h2 class="text-2xl md:text-3xl font-black text-white uppercase italic mb-8 text-center" style="font-family: 'Lilita One', cursive;">Dudas de la Arena</h2>
      <div class="space-y-4 px-2">
        {[
          { q: "¿Por qué el costo de 3 soles?", a: "El monto recaudado se destina íntegramente al pozo de premios." },
          { q: "¿Cómo realizo el pago?", a: "Escanea el QR del Paso 1 para pagar vía Yape/Plin." },
          { q: "¿Se permiten evoluciones?", a: "Sí, siempre que estén en nivel estándar 11." },
          { q: "¿Cómo verifican mi identidad?", a: "Solo se permite el ingreso con correos institucionales de la UPLA." }
        ].map(item => (
          <details class="group bg-white/5 border border-white/10 rounded-[1.5rem] md:rounded-3xl p-5 md:p-6 cursor-pointer hover:bg-white/10 transition-all">
            <summary class="text-white font-bold list-none flex justify-between items-center italic uppercase text-xs md:text-base select-none">
              {item.q} <span class="text-blue-500 group-open:rotate-180 transition-transform">▼</span>
            </summary>
            <p class="text-slate-400 mt-4 font-medium leading-relaxed text-xs md:text-sm">{item.a}</p>
          </details>
        ))}
      </div>
    </section>

    <footer class="pb-10 text-center z-10 opacity-30 px-4">
      <p class="text-white text-[8px] md:text-[10px] font-black uppercase tracking-[0.4em]">Arena UPLA • Huancayo 2026</p>
    </footer>

  </main>
</Layout>

<style>
  /* Ocultar barra de scroll para el slider de mazos en móvil */
  .no-scrollbar::-webkit-scrollbar { display: none; }
  .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
</style>

<script>
    // Lógica de activación de Pasos
    const checkbox = document.getElementById('check-pago') as HTMLInputElement;
    const container = document.getElementById('container-registro');
    const btn = document.getElementById('btn-registro');

    if (checkbox && container && btn) {
        checkbox.addEventListener('change', () => {
            if (checkbox.checked) {
                container.classList.remove('grayscale', 'opacity-40', 'bg-slate-900/50', 'pointer-events-none');
                container.classList.add('bg-gradient-to-br', 'from-blue-900/40', 'to-slate-900/90', 'border-blue-500/30');
                btn.classList.remove('bg-slate-700', 'text-slate-400', 'border-slate-900');
                btn.classList.add('bg-yellow-500', 'text-amber-950', 'border-amber-700', 'hover:bg-yellow-400');
            } else {
                container.classList.add('grayscale', 'opacity-40', 'bg-slate-900/50', 'pointer-events-none');
                container.classList.remove('bg-gradient-to-br', 'from-blue-900/40', 'to-slate-900/90', 'border-blue-500/30');
                btn.classList.add('bg-slate-700', 'text-slate-400', 'border-slate-900');
                btn.classList.remove('bg-yellow-500', 'text-amber-950', 'border-amber-700', 'hover:bg-yellow-400');
            }
        });
    }
</script>
